#!/bin/false
# sourced by uwsm environment preloader

quirks_labwc() {
	# append "wlroots" to XDG_CURRENT_DESKTOP if not already there
	if [ "${__WM_DESKTOP_NAMES_EXCLUSIVE__}" != "true" ]
	then
		case "A:${XDG_CURRENT_DESKTOP}:Z" in
		*:wlroots:*) true ;;
		*)
			export XDG_CURRENT_DESKTOP="${XDG_CURRENT_DESKTOP}:wlroots"
			;;
		esac
	fi
	# Xwayland is always on in labwc
	XWAYLAND=true
}

in_each_config_dir_reversed_labwc() {
	# load wm env normally
	in_each_config_dir_reversed "${1}"

	# also add env from labwc location
	source_file "${1}/${__WM_BIN_ID__}/env"
}
